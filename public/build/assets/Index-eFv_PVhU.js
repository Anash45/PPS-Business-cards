import{c as j,u as w,a as A,r as t,j as e,H as N,z as i,b as k,d as v}from"./app-BiiKFIU8.js";import{A as E}from"./AuthenticatedLayout-mAPw1RZn.js";import{g as I}from"./viteConfig-gEqUb4HH.js";import{S}from"./swagger-ui-BG9S5hwo.js";import{E as C}from"./eye-ANe4DhRK.js";import"./ApplicationLogo-D46p7oAA.js";import"./react-redux-DlIsvo0M.js";import"./isString-90kQQ-rI.js";import"./index-Dx1pP9om.js";import"./tslib.es6-Bb5J6d_G.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],D=j("copy",P);function Y(){const{apiKey:l}=w().props,{setHeaderTitle:d,setHeaderText:p}=A(),[a,x]=t.useState(l??""),[r,m]=t.useState(!1),[n,c]=t.useState(!1),[o,h]=t.useState(!1),[K,u]=t.useState("https://app.ppsbusinesscards.de");t.useEffect(()=>{(async()=>{const s=await I();u(s)})()},[]),t.useEffect(()=>{d("API Documentation"),p("")},[]);const g=()=>{navigator.clipboard.writeText(a),i.success("API key copied to clipboard!")},y=()=>m(!r),b=async()=>{if(confirm("Are you sure? This will generate a new API key and invalidate the old one.")){c(!0);try{const s=await k.post(route("api.regenerateKey"));x(s.data.api_key),i.success("API key regenerated successfully!"),v.reload({only:["apiKey"]})}catch(s){console.error(s),i.error(s.response?.data?.message||"Failed to regenerate API key.")}finally{c(!1)}}};return e.jsxs(E,{children:[e.jsx(N,{title:"API Documentation"}),e.jsxs("div",{className:"py-4 md:px-6 px-4",children:[e.jsxs("div",{className:"border border-[#EAECF0] bg-white rounded-xl ",children:[e.jsx("h2",{className:"text-xl font-semibold text-black px-5 py-4 border-b border-[#EAECF0]",children:"Your API Key"}),e.jsxs("div",{className:"px-5 py-4 space-y-3",children:[e.jsx("p",{className:"text-sm text-[#667085]",children:"Your personal API key:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"rounded p-2 font-medium bg-gray-50 font-mono flex items-center gap-1",children:a?r?a:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"pps_key_"}),Array.from({length:45}).map((s,f)=>e.jsx("span",{children:"â€¢"},f))]}):e.jsx("span",{children:"Generate API key."})}),a&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:y,className:"px-3 py-2 flex items-center gap-2 text-sm bg-gray-200 rounded hover:bg-gray-300",children:[e.jsx(C,{className:"h-4 w-4"}),e.jsx("span",{children:r?"Hide":"Show"})]}),e.jsxs("button",{onClick:g,className:"px-3 py-2 flex items-center gap-2 text-sm bg-blue-500 text-white rounded hover:bg-blue-600",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx("span",{children:"Copy"})]})]}),e.jsx("button",{onClick:b,className:"px-3 py-2 flex items-center gap-2 text-sm bg-red-500 text-white rounded hover:bg-red-600",disabled:n,children:a?n?"Regenerating...":"Regenerate":n?"Generating...":"Generate"})]})]})]}),e.jsxs("div",{className:"border border-[#EAECF0] bg-white rounded-xl mt-6",children:[e.jsxs("div",{className:"px-5 py-4 flex items-center justify-between border-b border-[#EAECF0]",children:[e.jsx("h2",{className:"text-xl font-semibold text-black",children:"API Documentation"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("a",{href:"/api-docs/full",target:"_blank",className:"px-3 py-2 text-sm bg-green-500 text-white rounded hover:bg-green-600",children:"Full Screen"}),e.jsx("button",{onClick:()=>h(!o),className:"px-3 py-2 text-sm bg-blue-500 text-white rounded hover:bg-blue-600",children:o?"Hide Docs":"View Docs"})]})]}),e.jsx("div",{className:"p-4",children:o?e.jsx("div",{children:e.jsx(S,{url:"/swagger.json"})}):e.jsx("p",{className:"text-sm text-[#667085]",children:'Click "View Docs" to open the interactive API documentation (powered by Swagger UI).'})})]})]})]})}export{Y as default};
