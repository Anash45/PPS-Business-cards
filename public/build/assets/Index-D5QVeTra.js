import{c as j,u as w,a as N,r as t,j as e,H as A,z as c,b as k,d as v}from"./app-CJpPUu5Z.js";import{A as E}from"./AuthenticatedLayout-MyL2I6uw.js";import{g as S}from"./viteConfig-gEqUb4HH.js";import{S as I}from"./swagger-ui-DUsSz80q.js";import{E as C}from"./eye-CpTi6znS.js";import"./ApplicationLogo-H2tT6hl0.js";import"./react-redux-mdgfZ-UW.js";import"./isString-C0Hs4mFK.js";import"./index-46TzfXrH.js";import"./tslib.es6-Bb5J6d_G.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],P=j("copy",D);function Y(){const{apiKey:d}=w().props,{setHeaderTitle:p,setHeaderText:x}=N(),[a,m]=t.useState(d??""),[r,h]=t.useState(!1),[o,l]=t.useState(!1),[n,u]=t.useState(!1),[K,g]=t.useState("https://app.ppsbusinesscards.de");t.useEffect(()=>{(async()=>{const s=await S();g(s),setData(i=>({...i,domain:s}))})()},[]),t.useEffect(()=>{p("API Documentation"),x("")},[]);const y=()=>{navigator.clipboard.writeText(a),c.success("API key copied to clipboard!")},b=()=>h(!r),f=async()=>{if(confirm("Are you sure? This will generate a new API key and invalidate the old one.")){l(!0);try{const s=await k.post(route("api.regenerateKey"));m(s.data.api_key),c.success("API key regenerated successfully!"),v.reload({only:["apiKey"]})}catch(s){console.error(s),c.error(s.response?.data?.message||"Failed to regenerate API key.")}finally{l(!1)}}};return e.jsxs(E,{children:[e.jsx(A,{title:"API Documentation"}),e.jsxs("div",{className:"py-4 md:px-6 px-4",children:[e.jsxs("div",{className:"border border-[#EAECF0] bg-white rounded-xl ",children:[e.jsx("h2",{className:"text-xl font-semibold text-black px-5 py-4 border-b border-[#EAECF0]",children:"Your API Key"}),e.jsxs("div",{className:"px-5 py-4 space-y-3",children:[e.jsx("p",{className:"text-sm text-[#667085]",children:"Your personal API key:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"rounded p-2 font-medium bg-gray-50 font-mono flex items-center gap-1",children:r?a:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"pps_key_"}),Array.from({length:45}).map((s,i)=>e.jsx("span",{children:"â€¢"},i))]})}),e.jsxs("button",{onClick:b,className:"px-3 py-2 flex items-center gap-2 text-sm bg-gray-200 rounded hover:bg-gray-300",children:[e.jsx(C,{className:"h-4 w-4"}),e.jsx("span",{children:r?"Hide":"Show"})]}),e.jsxs("button",{onClick:y,className:"px-3 py-2 flex items-center gap-2 text-sm bg-blue-500 text-white rounded hover:bg-blue-600",children:[e.jsx(P,{className:"h-4 w-4"}),e.jsx("span",{children:"Copy"})]}),e.jsx("button",{onClick:f,className:"px-3 py-2 flex items-center gap-2 text-sm bg-red-500 text-white rounded hover:bg-red-600",disabled:o,children:a?o?"Regenerating...":"Regenerate":o?"Generating...":"Generate"})]})]})]}),e.jsxs("div",{className:"border border-[#EAECF0] bg-white rounded-xl mt-6",children:[e.jsxs("div",{className:"px-5 py-4 flex items-center justify-between border-b border-[#EAECF0]",children:[e.jsx("h2",{className:"text-xl font-semibold text-black",children:"API Documentation"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("a",{href:"/api-docs/full",target:"_blank",className:"px-3 py-2 text-sm bg-green-500 text-white rounded hover:bg-green-600",children:"Full Screen"}),e.jsx("button",{onClick:()=>u(!n),className:"px-3 py-2 text-sm bg-blue-500 text-white rounded hover:bg-blue-600",children:n?"Hide Docs":"View Docs"})]})]}),e.jsx("div",{className:"p-4",children:n?e.jsx("div",{children:e.jsx(I,{url:"/swagger.json"})}):e.jsx("p",{className:"text-sm text-[#667085]",children:'Click "View Docs" to open the interactive API documentation (powered by Swagger UI).'})})]})]})]})}export{Y as default};
