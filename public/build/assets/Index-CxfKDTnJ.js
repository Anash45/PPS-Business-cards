import{c as j,u as w,a as A,r as t,j as e,H as N,z as n,b as k,d as v}from"./app-CD7xEUUc.js";import{A as E}from"./AuthenticatedLayout-CVR9-GIV.js";import{g as I}from"./viteConfig-BIBuROsR.js";import{S}from"./swagger-ui-CdauGGMs.js";import{E as C}from"./eye-DK4Sc92M.js";import"./ApplicationLogo-BFdDwUFe.js";import"./react-redux-CI9JGQbq.js";import"./isString-DllYjgB_.js";import"./index-DhH4PIyk.js";import"./tslib.es6-Bb5J6d_G.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],P=j("copy",D);function G(){const{apiKey:d}=w().props,{setHeaderTitle:p,setHeaderText:x}=A(),[i,m]=t.useState(d??""),[a,h]=t.useState(!1),[c,l]=t.useState(!1),[r,u]=t.useState(!1),[K,y]=t.useState("https://app.ppsbusinesscards.de");t.useEffect(()=>{(async()=>{const s=await I();y(s),setData(o=>({...o,domain:s}))})()},[]),t.useEffect(()=>{p("API Documentation"),x("")},[]);const g=()=>{navigator.clipboard.writeText(i),n.success("API key copied to clipboard!")},b=()=>h(!a),f=async()=>{if(confirm("Are you sure? This will generate a new API key and invalidate the old one.")){l(!0);try{const s=await k.post(route("api.regenerateKey"));m(s.data.api_key),n.success("API key regenerated successfully!"),v.reload({only:["apiKey"]})}catch(s){console.error(s),n.error(s.response?.data?.message||"Failed to regenerate API key.")}finally{l(!1)}}};return e.jsxs(E,{children:[e.jsx(N,{title:"API Documentation"}),e.jsxs("div",{className:"py-4 md:px-6 px-4",children:[e.jsxs("div",{className:"border border-[#EAECF0] bg-white rounded-xl ",children:[e.jsx("h2",{className:"text-xl font-semibold text-black px-5 py-4 border-b border-[#EAECF0]",children:"Your API Key"}),e.jsxs("div",{className:"px-5 py-4 space-y-3",children:[e.jsx("p",{className:"text-sm text-[#667085]",children:"Your personal API key:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"rounded p-2 font-medium bg-gray-50 font-mono flex items-center gap-1",children:a?i:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"pps_key_"}),Array.from({length:45}).map((s,o)=>e.jsx("span",{children:"â€¢"},o))]})}),e.jsxs("button",{onClick:b,className:"px-3 py-2 flex items-center gap-2 text-sm bg-gray-200 rounded hover:bg-gray-300",children:[e.jsx(C,{className:"h-4 w-4"}),e.jsx("span",{children:a?"Hide":"Show"})]}),e.jsxs("button",{onClick:g,className:"px-3 py-2 flex items-center gap-2 text-sm bg-blue-500 text-white rounded hover:bg-blue-600",children:[e.jsx(P,{className:"h-4 w-4"}),e.jsx("span",{children:"Copy"})]}),e.jsx("button",{onClick:f,className:"px-3 py-2 flex items-center gap-2 text-sm bg-red-500 text-white rounded hover:bg-red-600",disabled:c,children:c?"Regenerating...":"Regenerate"})]})]})]}),e.jsxs("div",{className:"border border-[#EAECF0] bg-white rounded-xl mt-6",children:[e.jsxs("div",{className:"px-5 py-4 flex items-center justify-between border-b border-[#EAECF0]",children:[e.jsx("h2",{className:"text-xl font-semibold text-black",children:"API Documentation"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:()=>u(!r),className:"px-3 py-2 text-sm bg-blue-500 text-white rounded hover:bg-blue-600",children:r?"Hide Docs":"View Docs"})})]}),e.jsx("div",{className:"p-4",children:r?e.jsx("div",{children:e.jsx(S,{url:"/swagger.json"})}):e.jsx("p",{className:"text-sm text-[#667085]",children:'Click "View Docs" to open the interactive API documentation (powered by Swagger UI).'})})]})]})]})}export{G as default};
