import{r as l,b as f}from"./app-umLenybF.js";function h({employees:t,setEmployees:n,isSyncingBg:r}){const[e,a]=l.useState(null);return l.useEffect(()=>{if(!r){e&&(clearInterval(e),a(null));return}const c=setInterval(async()=>{try{const s=await f.get("/company/cards/sync-status"),{synced_employees:u}=s.data;u&&u.length&&n(o=>o.map(i=>{const v=u.find(y=>y.id===i.id);return v?{...i,is_syncing:0,wallet_status:v.wallet_status}:i})),t.every(o=>Number(o.is_syncing)===0)&&(clearInterval(c),a(null))}catch(s){console.error("Error checking employee sync status:",s)}},30*1e3);return a(c),()=>clearInterval(c)},[r,t,n]),null}function p(t,n){const r=l.useRef(null);l.useEffect(()=>{if(!t){r.current&&(clearInterval(r.current),r.current=null);return}return r.current=setInterval(async()=>{try{const e=await f.get("/wallet-jobs/status"),{hasRunningJob:a}=e.data;a||(n(!1),clearInterval(r.current),r.current=null)}catch(e){console.error("Error checking wallet job status:",e)}},5e3),()=>{r.current&&clearInterval(r.current)}},[t,n])}function b(t,n){const r=l.useRef(null);l.useEffect(()=>{if(!t){r.current&&(clearInterval(r.current),r.current=null);return}return r.current=setInterval(async()=>{try{const e=await f.get("/email-jobs/status"),{hasRunningJob:a}=e.data;a||(n(!1),clearInterval(r.current),r.current=null)}catch(e){console.error("Error checking email job status:",e)}},5e3),()=>{r.current&&clearInterval(r.current)}},[t,n])}export{h as E,b as a,p as u};
