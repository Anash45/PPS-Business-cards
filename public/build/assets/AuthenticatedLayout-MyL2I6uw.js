import{c as s,u as x,a as _,r as l,j as e,b as M,E as k,L as f,d as C}from"./app-CJpPUu5Z.js";import{A as j}from"./ApplicationLogo-H2tT6hl0.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],A=s("bell",E);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],F=s("book",$);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],S=s("chevrons-up-down",I);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],y=s("cloud-upload",L);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],D=s("crown",B);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]],h=s("id-card",O);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],w=s("layout-dashboard",U);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],z=s("log-out",q);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],P=s("menu",H);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],N=s("palette",W);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M17 12v4a1 1 0 0 1-1 1h-4",key:"uk4fdo"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M17 8V7",key:"q2g9wo"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M7 17h.01",key:"19xn7k"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["rect",{x:"7",y:"7",width:"5",height:"5",rx:"1",key:"m9kyts"}]],g=s("scan-qr-code",T);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],R=s("settings",G);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],b=s("users-round",V);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],X=s("user",Q);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],K=s("x",J);function Y(){const{props:t}=x(),{headerTitle:o,headerText:a,setIsPageLoading:r}=_(),[d,n]=l.useState(!!t?.auth?.user?.impersonated_by);l.useEffect(()=>{n(!!t?.auth?.user?.impersonated_by)},[t?.auth?.user?.impersonated_by]);const c=async()=>{r(!0);try{await M.post(route("users.stopImpersonate")),k.success("Stopped impersonating."),r(!1),setTimeout(()=>{window.location=route("users.index")},1e3)}catch{r(!1),k.error("Failed to stop impersonation.")}r(!1)};return e.jsxs("div",{className:"flex h-[70px] border-b border-b-[#EAECF0] justify-between items-center px-6 shrink-0",children:[e.jsxs("div",{className:"space-y-0.5",children:[o&&e.jsx("h2",{className:"text-xl font-bold font-public-sans text-[#1C274C]",children:o}),a&&e.jsx("p",{className:"text-sm text-[#676E87]",children:a})]}),e.jsxs("div",{className:"flex gap-3 items-center",children:[d&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm font-medium",children:[e.jsx("span",{children:"Impersonating"}),e.jsx("button",{onClick:c,className:"px-2 py-0.5 bg-yellow-300 rounded hover:bg-yellow-400 transition text-xs",children:"Stop"})]}),e.jsx("div",{className:"h-10 w-10 rounded-lg border border-[#EEF2F6] flex items-center justify-center cursor-pointer",children:e.jsx(A,{className:"h-5 w-5 text-[#697586]",strokeWidth:2})})]})]})}const Z=[{groupName:"Overview",items:[{name:"Overview",icon:w,route:"dashboard"},{name:"Team",icon:b,route:"users.index"}]},{groupName:"Design",items:[{name:"Template",icon:N,route:"design.index"}]},{groupName:"Business Cards",items:[{name:"NFC Cards",icon:g,route:"company.nfc_cards"},{name:"Employees",icon:h,route:"company.cards"},{name:"Bulk Import",icon:y,route:"csv.index"}]},{groupName:"System",items:[{name:"Setting",icon:R,route:"settings.index"},{name:"API Documentation",icon:F,route:"api.documentation"}]}],ee=[{groupName:"Business Cards",items:[{name:"NFC Cards",icon:g,route:"company.nfc_cards"},{name:"Employees",icon:h,route:"company.cards"},{name:"Bulk Import",icon:y,route:"csv.index"}]}],se=[{groupName:"Overview",items:[{name:"Team",icon:b,route:"users.index"}]},{groupName:"Design",items:[{name:"Template",icon:N,route:"design.index"}]},{groupName:"Business Cards",items:[{name:"NFC Cards",icon:g,route:"company.nfc_cards"},{name:"Employees",icon:h,route:"company.cards"},{name:"Bulk Import",icon:y,route:"csv.index"}]}],te=[{groupName:"Admin Panel",items:[{name:"Overview",icon:w,route:"dashboard"},{name:"Users",icon:b,route:"users.index"},{name:"Plans",icon:D,route:"plans.index"},{name:"Cards",icon:h,route:"cards.index"}]}],ae=()=>{const{props:t,url:o}=x(),a=t.auth?.user,r=n=>{try{const c=new URL(route(n)).pathname,i=window.location.pathname,u=v=>v.replace(/\/+$/,""),p=u(c),m=u(i);return m===p||m.startsWith(p+"/")}catch(c){return console.error("Error in isActive:",c),!1}},d=a?.role==="admin"?te:a?.role=="company"?Z:a?.role=="editor"?ee:a?.role=="template_editor"?se:[];return e.jsx("ul",{className:"flex flex-col gap-3.5 pb-4 overflow-y-auto",children:d.map((n,c)=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-[#6B7280] text-xs font-medium",children:n.groupName}),n.items.map((i,u)=>{const p=i.icon,m=r(i.route);return e.jsx("li",{children:e.jsxs(f,{href:route(i.route),className:`p-3 flex items-center gap-2 text-sm relative font-medium rounded-lg ${m?"bg-[#F4FAF5] text-[#698F6D] active-nav-link":"bg-transparent text-[#667085]"}`,children:[e.jsx(p,{strokeWidth:2,className:"h-5 w-5"}),e.jsx("span",{children:i.name})]})},u)})]},c))})},oe=()=>{const[t,o]=l.useState(!1),a=l.useRef(null),r=x().props.auth.user;return l.useEffect(()=>{const d=n=>{a.current&&!a.current.contains(n.target)&&o(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]),e.jsxs("div",{ref:a,className:"drop-wrapper relative",children:[e.jsxs("div",{onClick:()=>o(!t),className:`px-3 py-2 rounded-xl flex items-center gap-3 justify-between cursor-pointer border transition-all duration-300 ${t?"border-[#6366F1]":"border-[#EAECF0]"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 font-inter",children:[e.jsx("img",{src:r.profile_image?`/storage/${r.profile_image}`:"/assets/images/user-placeholder.svg",alt:"User Avatar",className:"h-11 w-11 rounded-full object-cover object-center"}),e.jsxs("div",{className:"flex flex-col gap-0 font-public-sans",children:[e.jsx("span",{className:"text-sm text-[#000000] font-semibold",children:r.name}),e.jsx("span",{className:"text-xs leading-[18px] text-[#667085] font-medium break-all",children:r.email})]})]}),e.jsx(S,{className:`text-[#71717A] h-[22px] w-[22px] transition-transform duration-300 ${t?"rotate-180":""}`,strokeWidth:2})]}),e.jsx("div",{className:`absolute user-dropup p-2 bottom-full left-0 right-0 bg-white border border-[#EAECF0] rounded-lg overflow-hidden transition-all duration-300 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-2 pointer-events-none"}`,children:e.jsxs("ul",{className:"flex flex-col px-2",children:[e.jsx("li",{children:e.jsxs("a",{href:route("profile.edit"),className:"flex items-center gap-3 p-2 text-[#09090B] font-medium rounded-md text-sm hover:bg-gray-100",children:[e.jsx(X,{className:"h-4 w-4 text-[#1E293B]",strokeWidth:2}),e.jsx("span",{children:"My Profile"})]})}),e.jsx("div",{className:"py-1 px-2",children:e.jsx("div",{className:"border-b border-b-[#E4E4E7]"})}),e.jsx("li",{children:e.jsxs("button",{onClick:()=>C.post(route("logout")),className:"flex items-center gap-3 p-2 text-[#09090B] font-medium rounded-md text-sm hover:bg-gray-100 w-full text-left",children:[e.jsx(z,{className:"h-4 w-4 text-[#1E293B]",strokeWidth:2}),e.jsx("span",{children:"Sign Out"})]})})]})})]})},re=()=>{const[t,o]=l.useState(!1);return e.jsxs("aside",{className:"lg:w-[260px] w-full bg-white border-r border-r-[#EAECF0] shrink-0",children:[e.jsxs("div",{className:"py-4 lg:pe-4 px-4 flex items-center gap-3 justify-between lg:hidden",children:[e.jsx(f,{href:route("dashboard"),children:e.jsx(j,{className:"md:h-[30.77px] h-6 w-auto"})}),e.jsx("button",{className:"h-8 w-8 rounded-full bg-[#83af8221] flex items-center justify-center",onClick:()=>o(!0),children:e.jsx(P,{strokeWidth:2,className:"text-black h-4 w-4"})})]}),e.jsx("div",{className:`h-full lg:static fixed top-0 left-0 z-50 w-full mobile-sidebar-wrapper transition-all duration-500 ${t?"translate-x-0":"lg:translate-x-0 -translate-x-full"}`,onClick:()=>o(!1),children:e.jsxs("div",{className:"flex flex-col py-6 px-4 gap-[22px] h-full lg:w-full w-[290px] bg-white lg:shadow-none shadow-lg max-h-screen overflow-y-auto",onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"pb-4 flex items-center gap-3 justify-between border-b border-b-[#EAECF0]",children:[e.jsx(f,{href:route("dashboard"),children:e.jsx(j,{className:"md:h-[30px] h-6 w-auto"})}),e.jsx("button",{className:"h-8 w-8 rounded-full bg-[#83af8221] flex items-center justify-center lg:hidden",onClick:()=>o(!1),children:e.jsx(K,{strokeWidth:2,className:"text-black h-4 w-4"})})]}),e.jsxs("div",{className:"flex grow flex-col justify-content-between",children:[e.jsx(ae,{}),e.jsxs("div",{className:"flex flex-col gap-2 mt-auto",children:[e.jsx("div",{className:"py-1",children:e.jsx("div",{className:"border-b border-b-[#E4E4E7]"})}),e.jsx(oe,{})]})]})]})})]})};function ie({children:t}){x().props.auth.user;const[o,a]=l.useState(!1);return e.jsxs("div",{className:"h-screen max-w-[2500px] mx-auto flex lg:flex-row flex-col bg-[#FCFCFD]",children:[e.jsx(re,{}),e.jsx("main",{className:"grow rounded-lg flex flex-col",children:e.jsxs("div",{className:"overflow-y-auto grow flex-col flex",children:[e.jsx(Y,{}),t]})})]})}export{ie as A,h as I,X as U,K as X};
