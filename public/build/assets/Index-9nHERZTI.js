import{b as f,c as g,k as b,r as l,j as e,H as h,B as y,d as j,f as P}from"./app-CXbyabKF.js";import{A as v}from"./AuthenticatedLayout-B25k6yzW.js";import{E as d,D as A}from"./dataTables.dataTables-DRNfs0DH.js";import{D as C,a as o}from"./DropdownUi-CRItVbiy.js";import{P as E}from"./plus-7mk0UeTV.js";import"./ApplicationLogo-DS0zumM7.js";d.use(A);function F(){const{plans:i}=f().props,{setHeaderTitle:c,setHeaderText:p}=g(),{openModal:n}=b();l.useEffect(()=>{c("Plans Management"),p("")},[]);const m=(t,a,s)=>{const r=document.createElement("div");return setTimeout(()=>{j.createRoot(r).render(e.jsxs(C,{children:[e.jsx(o,{onClick:()=>n("CreatePlanModal",{existingPlan:s}),children:"Edit"}),e.jsx(o,{onClick:()=>u(s.id),children:"Delete"})]}))},0),r},u=t=>{confirm("Are you sure you want to delete this plan?")&&P.delete(`/plans/${t}`,{preserveScroll:!0,onSuccess:()=>{console.log("Plan deleted successfully")}})},x=l.useMemo(()=>[{title:"Name",data:"name"},{title:"Cards Included",data:"cards_included"},{title:"Monthly Price",data:"price_monthly",render:t=>`$${parseFloat(t).toFixed(2)}`},{title:"Annual Price",data:"price_annual",render:t=>`$${parseFloat(t).toFixed(2)}`},{title:"Custom",data:"is_custom",render:t=>t?"Yes":"No"},{title:"Active",data:"active",render:t=>{const a=!!t;return`
            <span class="px-2 py-1 text-xs font-medium rounded-full ${a?"bg-green-100 text-green-700 border border-green-200":"bg-gray-100 text-gray-700 border border-gray-200"}">
                ${a?"Active":"Inactive"}
            </span>
        `}},{title:"Actions",data:null,orderable:!1,searchable:!1,render:m}],[]);return e.jsxs(v,{children:[e.jsx(h,{title:"Plans"}),e.jsxs("div",{className:"py-4 md:px-6 px-4 flex flex-col gap-6",children:[e.jsx("div",{className:"flex items-center justify-end",children:e.jsxs(y,{onClick:()=>n("CreatePlanModal"),variant:"primary",className:"flex items-center gap-1 justify-center",children:[e.jsx(E,{className:"h-4 w-4",strokeWidth:2})," Add Plan"]})}),e.jsx("div",{className:"py-4 md:px-6 px-4 rounded-[14px] main-box bg-white flex flex-col gap-3",children:e.jsx(d,{data:i,columns:x,className:"display site-datatable",options:{responsive:!0,pageLength:10,lengthMenu:[10,25,50,100],dom:"<'flex justify-between items-center mb-3 sd-top'<'flex items-center gap-2'l><'flex items-center gap-2'f>>rt<'flex justify-center mt-3 sd-bottom'p>"}})})]})]})}export{F as default};
