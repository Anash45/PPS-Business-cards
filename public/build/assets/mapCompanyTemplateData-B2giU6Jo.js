import{g as c,j as a,c as i,n as d}from"./app-9Uej83ZS.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],m=c("mail",_);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],u=c("map-pin",x);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],g=c("phone",f);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],b=c("smile",p);function h({cardSocialsLinks:r}){return r?.length?a.jsx("div",{className:"flex items-center gap-2 flex-wrap justify-center",children:(r||[]).map((e,o)=>e.url&&a.jsx("a",{href:e.url||"#",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-gray-700 transition",children:a.jsx("img",{src:`/assets/images/icons/${e.icon.replace(/^Fa/,"").toLowerCase()}.png`,alt:e.icon,className:"h-7"})},o))}):null}function y({cardPhones:r}){const{isCardReal:e}=i(),o=r?.filter(n=>!(n.is_hidden&&e));return o?.length>0?a.jsx("div",{className:`grid gap-2 ${o.length===1?"grid-cols-1":"grid-cols-2"}`,children:o.map((n,t)=>a.jsxs("a",{target:"_blank",href:`tel:${n.phone_number}`,style:{color:n?.text_color,backgroundColor:n?.bg_color??"#87B88C",borderColor:n?.bg_color??"#87B88C"},className:"flex relative border text-sm leading-tight items-center gap-3 justify-content-start rounded-lg px-4 py-2.5 font-medium preview-btn w-full",children:[a.jsx(g,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{children:n.phone_number}),n.is_hidden&&a.jsx("span",{className:"absolute -translate-y-1/2 translate-x-1 top-0 right-0 text-[10px] rounded bg-orange-500 py-0.5 px-2 italic text-white",children:"(Hidden)"})]},t))}):null}function j({cardEmails:r}){const{isCardReal:e}=i();return r?.length>0?a.jsx("div",{className:"grid gap-2 grid-cols-1",children:r.map((o,n)=>o.hidden&&e?null:a.jsxs("a",{target:"_blank",href:`mailto:${o.email}`,style:{color:o?.text_color,backgroundColor:o?.bg_color??"#87B88C",borderColor:o?.bg_color??"#87B88C"},className:"flex border text-sm leading-tight relative items-center gap-3 justify-content-start rounded-lg px-4 py-2.5 font-medium preview-btn",children:[a.jsx(m,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{children:o.email}),o.is_hidden?a.jsx("span",{className:"absolute -translate-y-1/2 translate-x-1 top-0 right-0 text-[10px] rounded bg-orange-500 py-0.5 px-2 italic text-white",children:"(Hidden)"}):null]},n))}):null}function v({cardAddresses:r}){const{isCardReal:e}=i();return r?.length>0?a.jsx("div",{className:"grid gap-2 grid-cols-1",children:r.map((o,n)=>o.is_hidden&&e?null:a.jsxs("a",{target:"_blank",href:`https://www.google.com/maps/search/?api=1&query=${o.address}`,style:{color:o?.text_color,backgroundColor:o?.bg_color??"#87B88C",borderColor:o?.bg_color??"#87B88C"},className:"flex border text-sm leading-tight relative items-center gap-3 justify-content-start rounded-lg px-4 py-2.5 font-medium preview-btn",children:[a.jsx(u,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{children:o.address}),o.is_hidden?a.jsx("span",{className:"absolute -translate-y-1/2 translate-x-1 top-0 right-0 text-[10px] rounded bg-orange-500 py-0.5 px-2 italic text-white",children:"(Hidden)"}):null]},n))}):null}function N({cardButtons:r}){return r?.length>0?a.jsx("div",{className:"grid gap-2 grid-cols-1",children:r.map((e,o)=>e.button_text&&a.jsxs("a",{target:"_blank",href:e.button_link,style:{color:e?.text_color,backgroundColor:e?.bg_color??"#87B88C",borderColor:e?.bg_color??"#87B88C"},className:"flex border text-sm leading-tight items-center gap-3 justify-content-start rounded-lg px-4 py-2.5 font-medium preview-btn",children:[a.jsx("span",{className:"shrink-0 text-xl",children:e.icon?e.icon:a.jsx(b,{className:"h-7 w-7"})}),a.jsx("span",{children:e.button_text})]},o))}):null}function w(){const{cardFormData:r}=i(),e=()=>{if(!r)return;let o=`BEGIN:VCARD
VERSION:3.0
N:${r.last_name||""};${r.first_name||""};;${r.title||""};
FN:${[r.salutation,r.first_name,r.last_name].filter(Boolean).join(" ")}
ORG:${r.company_name||""}
TITLE:${r.position||""}
ROLE:${r.department||""}
`;(r.card_phone_numbers||[]).forEach(l=>{l.phone_number&&(o+=`TEL;TYPE=WORK,VOICE:${l.phone_number}
`)}),(r.card_emails||[]).forEach(l=>{l.email&&(o+=`EMAIL;TYPE=WORK:${l.email}
`)}),(r.card_addresses||[]).forEach(l=>{l.address&&(o+=`ADR;TYPE=WORK:;;${l.address};;;;
`)}),(r.card_buttons||[]).forEach(l=>{l.button_link&&(o+=`URL;TYPE=WORK:${l.button_link}
`,l.button_text&&(o+=`NOTE:${l.button_text}
`))}),o+="END:VCARD";const n=new Blob([o],{type:"text/vcard;charset=utf-8"}),t=URL.createObjectURL(n),s=document.createElement("a");s.href=t,s.download=`${r.first_name||"contact"}_vcard.vcf`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t),d.success("vCard downloaded!")};return a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("button",{onClick:e,style:{color:r?.btn_text_color||"#ffffff",backgroundColor:r?.btn_bg_color||"#87B88C",borderColor:r?.btn_bg_color||"#87B88C"},className:"px-4 py-2.5 rounded-[10px] text-sm font-medium leading-tight w-fit",children:"Save contact details"})})}function C({isReal:r=!1}){const{cardFormData:e,setCardFormData:o}=i();return a.jsx("div",{className:`border ${r?"border-transparent":"border-[#EAECF0]"} rounded-lg p-3 mx-auto w-[430px] max-w-full`,style:{backgroundColor:e?.card_bg_color??"#ffffff"},children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative border border-[#EAECF0] bg-gradient bg-gradient-to-b from-[#eaffec] to-transparent rounded-lg w-full h-[200px]",children:[e.banner_image_url?a.jsx("img",{src:e.banner_image_url,alt:"Banner",className:"w-full h-full object-cover rounded-lg"}):null,e.profile_image_url?a.jsx("img",{src:e.profile_image_url,alt:"Profile",className:"rounded-full border-2 bg-white border-white absolute bottom-0 left-1/2 transform translate-y-1/2 -translate-x-1/2 w-[140px] h-[140px] object-cover"}):a.jsx("img",{src:"/assets/images/profile-placeholder.svg",alt:"Profile",className:"rounded-full border-2 bg-white border-white absolute bottom-0 left-1/2 transform translate-y-1/2 -translate-x-1/2 w-[140px] h-[140px] object-cover"})]}),a.jsx("div",{children:a.jsxs("div",{className:"mt-20 space-y-2 text-center",children:[a.jsx("h2",{className:"text-xl text-center leading-tight font-black font-public-sans",style:{color:e?.name_text_color||"#000000"},children:e.salutation||e.first_name||e.last_name?`${e?.salutation} ${e?.title} ${e?.first_name} ${e?.last_name}`:"Mr. John Doe"}),e.position||e.department||e.company_name?a.jsxs("div",{className:"space-y-1",style:{color:e?.company_text_color||"#000000"},children:[e.position||e.department?a.jsxs("p",{className:"text-sm font-medium flex items-center justify-center gap-1.5",children:[a.jsx("span",{children:e?.position})," ",a.jsx("span",{className:"inline-block h-1 w-1 rounded-full bg-gray-400"}),a.jsx("span",{children:e?.department})]}):null,e.company_name?a.jsx("p",{className:"text-base leading-tight font-bold",children:e.company_name}):null]}):null]})}),a.jsx(w,{}),a.jsx(h,{cardSocialsLinks:e?.card_social_links??[]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(y,{cardPhones:e?.card_phone_numbers??[]}),a.jsx(j,{cardEmails:e?.card_emails??[]}),a.jsx(v,{cardAddresses:e?.card_addresses??[]}),a.jsx(N,{cardButtons:e?.card_buttons??[]})]})]})})}function $(r,e,o={}){if(console.log("Mapping company template data for:",r,e),!r)return{};const n=r?.card_template;return{name_text_color:n?.name_text_color??"#000000",company_name:n?.company_name??r?.name??"",company_text_color:n?.company_text_color??"#000000",card_bg_color:n?.card_bg_color??"#ffffff",btn_bg_color:n?.btn_bg_color??"#87B88C",btn_text_color:n?.btn_text_color??"#ffffff",banner_image:null,banner_image_url:n?.banner_image?`/storage/${n.banner_image}`:null,...e?{salutation:e.salutation??"",title:e.title??"",first_name:e.first_name??"",last_name:e.last_name??"",position:e.position??"",department:e.department??"",profile_image_url:e?.profile_image?`/storage/${e.profile_image}`:"/assets/images/profile-placeholder.svg",profile_image:null}:{},card_social_links:Array.isArray(r?.card_social_links)?r.card_social_links.map(t=>({id:t.id||null,icon:t.icon||"",url:t.url||"",company_id:t.company_id||null,card_id:t.card_id||null})):[],card_phone_numbers:Array.isArray(r?.card_phone_numbers)?r.card_phone_numbers.map(t=>({id:t.id||null,phone_number:t.phone_number||"",is_hidden:t.is_hidden??!1,text_color:t.text_color||n?.btn_text_color||"#ffffff",bg_color:t.bg_color||n?.btn_bg_color||"#87B88C",company_id:t.company_id||null,card_id:t.card_id||null})):[],card_emails:Array.isArray(r?.card_emails)?r.card_emails.map(t=>({id:t.id||null,email:t.email||"",is_hidden:t.is_hidden??!1,text_color:t.text_color||n?.btn_text_color||"#ffffff",bg_color:t.bg_color||n?.btn_bg_color||"#87B88C",company_id:t.company_id||null,card_id:t.card_id||null})):[],card_addresses:Array.isArray(r?.card_addresses)?r.card_addresses.map(t=>({id:t.id||null,address:t.address||"",is_hidden:t.is_hidden??!1,text_color:t.text_color||n?.btn_text_color||"#ffffff",bg_color:t.bg_color||n?.btn_bg_color||"#87B88C",company_id:t.company_id||null,card_id:t.card_id||null})):[],card_buttons:Array.isArray(r?.card_buttons)?r.card_buttons.map(t=>({id:t.id||null,button_text:t.button_text||"",button_link:t.button_link||"",icon:t.icon||"",text_color:t.text_color||n?.btn_text_color||"#000000",bg_color:t.bg_color||n?.btn_bg_color||"#FFFFFF",company_id:t.company_id||null,card_id:t.card_id||null})):[]}}export{C,m as M,g as P,b as S,u as a,$ as m};
