import{r as c,d,j as e,L as n,z as t}from"./app-CuDq6AIR.js";import{c as l}from"./createLucideIcon-CrJqq0G0.js";import{T as p}from"./trash-2-rru_fbUb.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],u=l("search",h);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],y=l("square-pen",g);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=[["path",{d:"M18 11c-1.5 0-2.5.5-3 2",key:"1fod00"}],["path",{d:"M4 6a2 2 0 0 0-2 2v4a5 5 0 0 0 5 5 8 8 0 0 1 5 2 8 8 0 0 1 5-2 5 5 0 0 0 5-5V8a2 2 0 0 0-2-2h-3a8 8 0 0 0-5 2 8 8 0 0 0-5-2z",key:"d70hit"}],["path",{d:"M6 11c1.5 0 2.5.5 3 2",key:"136fht"}]],j=l("venetian-mask",f);function w({users:r}){const[o,i]=c.useState("");c.useEffect(()=>{const s=setTimeout(()=>{d.get(route("users.index"),{search:o},{preserveState:!0,replace:!0})},100);return()=>clearTimeout(s)},[o]);const m=async s=>{if(confirm("Are you sure you want to delete this user?"))try{const a=await axios.delete(route("users.destroy",s));a.data.success?(t.success(a.data.message),d.reload()):t.error(a.data.message||"Failed to delete user.")}catch(a){t.error(a.response?.data?.message||"An error occurred.")}},x=async s=>{if(confirm("Are you sure you want to impersonate this user?"))try{const a=await axios.post(route("users.impersonate",s));a.data.success?(t.success(a.data.message),setTimeout(()=>{window.location.href=route("dashboard")},1e3)):t.error(a.data.message||"Failed to impersonate")}catch(a){t.error(a.response?.data?.message||"An error occurred")}};return e.jsxs("div",{className:"py-6 px-4 rounded-[14px] main-box bg-white flex flex-col gap-6 overflow-x-auto",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"relative w-full sm:w-1/3",children:[e.jsx(u,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",value:o,onChange:s=>i(s.target.value),placeholder:"Search users...",className:"w-full border border-gray-300 rounded-md py-2 pl-9 pr-3 text-sm focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary"})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"hidden sm:flex border-b border-gray-200 pb-2 px-4 text-sm font-semibold text-[#263238]",children:[e.jsx("div",{className:"pr-2 w-16",children:"ID"}),e.jsx("div",{className:"px-2 flex-1",children:"Name"}),e.jsx("div",{className:"px-2 flex-1",children:"Email"}),e.jsx("div",{className:"px-2 w-24",children:"Role"}),e.jsx("div",{className:"pl-2 w-60 text-right",children:"Actions"})]}),r.data.length>0?r.data.map(s=>e.jsxs("div",{className:"border border-gray-300 rounded-lg py-3 px-4 flex flex-col sm:flex-row sm:items-center sm:justify-between hover:bg-gray-50 transition",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:flex-1",children:[e.jsxs("div",{className:"pr-2 sm:w-16",children:[e.jsxs("span",{className:"sm:hidden text-xs text-gray-500",children:["ID:"," "]}),e.jsx("span",{className:"text-sm text-gray-800",children:s.id})]}),e.jsxs("div",{className:"px-2 sm:flex-1",children:[e.jsxs("span",{className:"sm:hidden text-xs text-gray-500",children:["Name:"," "]}),e.jsx("span",{className:"text-sm text-gray-800",children:s.name})]}),e.jsxs("div",{className:"px-2 sm:flex-1",children:[e.jsxs("span",{className:"sm:hidden text-xs text-gray-500",children:["Email:"," "]}),e.jsx("span",{className:"text-sm text-gray-800",children:s.email})]}),e.jsxs("div",{className:"pl-2 sm:w-24",children:[e.jsxs("span",{className:"sm:hidden text-xs text-gray-500",children:["Role:"," "]}),e.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full 
                                    ${s.role==="admin"?"bg-green-100 text-green-700":s.role==="company"?"bg-blue-100 text-blue-700":s.role==="team"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:s.role.charAt(0).toUpperCase()+s.role.slice(1)}),s.role=="company"&&e.jsx("p",{className:"block text-sm",children:s.company.name.charAt(0).toUpperCase()+s.company.name.slice(1)})]})]}),e.jsxs("div",{className:"mt-3 sm:mt-0 flex gap-3 justify-end sm:w-60",children:[e.jsx(n,{href:route("users.edit",s.id),className:"px-2 py-1.5 text-sm rounded-md border border-indigo-500 text-white bg-indigo-600 hover:bg-indigo-700 transition",children:e.jsx(y,{className:"h-4 w-4",strokeWidth:2})}),e.jsx("button",{onClick:()=>m(s.id),className:"px-2 py-1.5 text-sm rounded-md border border-red-500 text-white bg-red-600 hover:bg-red-700 transition",children:e.jsx(p,{className:"h-4 w-4",strokeWidth:2})}),e.jsxs("button",{onClick:()=>x(s.id),className:"px-2 py-1.5 flex items-center text-sm rounded-md border border-green-500 text-white bg-green-600 hover:bg-green-700 transition",children:[e.jsx(j,{className:"h-5 mr-2"})," Impersonate"]})]})]},s.id)):e.jsx("p",{className:"text-center text-gray-500 py-4",children:"No users found."})]}),e.jsx("div",{className:"p-4 flex flex-wrap gap-2 justify-center",children:r.links.map((s,a)=>e.jsx(n,{href:s.url||"#",className:`px-3 py-1 text-sm rounded ${s.active?"bg-primary hover:bg-[#60ae68] text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"} ${s.url?"":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:s.label}},a))})]})}export{w as default};
