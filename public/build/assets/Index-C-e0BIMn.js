import{u as x,a as b,F as f,r,d as y,j as e,H as g,C as h}from"./app-lsU9ifOx.js";import{A as j}from"./AuthenticatedLayout-I3B8OPiS.js";import{D as P,a as o}from"./DropdownUi-D4ZV56Td.js";import{C as k}from"./CustomDataTable-BAeqO14y.js";import{P as C}from"./plus-D-p_lXhy.js";import"./ApplicationLogo-cBGogKbc.js";import"./chevron-down-Hrg1Vc3W.js";function w(){const{plans:d}=x().props,{setHeaderTitle:i,setHeaderText:c}=b(),{openModal:s}=f();r.useEffect(()=>{i("Plans Management"),c("")},[]);const l=r.useCallback(a=>{confirm("Are you sure you want to delete this plan?")&&y.delete(`/plans/${a}`,{preserveScroll:!0,onSuccess:()=>{console.log("Plan deleted successfully")}})},[]),u=r.useMemo(()=>[{key:"name",label:"Name",sortable:!0},{key:"cards_included",label:"Employees",sortable:!0},{key:"nfc_cards_included",label:"NFC Cards",sortable:!0},{key:"price_monthly",label:"Monthly Price",sortable:!0,render:a=>`€${parseFloat(a).toFixed(2)}`},{key:"price_annual",label:"Annual Price",sortable:!0,render:a=>`€${parseFloat(a).toFixed(2)}`},{key:"is_custom",label:"Custom",sortable:!1,render:a=>a?"Yes":"No"},{key:"active",label:"Active",sortable:!0,render:(a,t)=>{const n=!!a,p=n?"bg-green-100 text-green-700 border border-green-200":"bg-gray-100 text-gray-700 border border-gray-200",m=n?"Active":"Inactive";return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p}`,children:m})}},{key:"actions",label:"Actions",sortable:!1,className:"text-center",render:(a,t)=>e.jsxs(P,{children:[e.jsx(o,{onClick:()=>s("CreatePlanModal",{existingPlan:t}),children:"Edit"}),e.jsx(o,{onClick:()=>l(t.id),children:"Delete"})]})}],[l,s]);return e.jsxs(j,{children:[e.jsx(g,{title:"Plans"}),e.jsxs("div",{className:"py-4 md:px-6 px-4 flex flex-col gap-6",children:[e.jsx("div",{className:"flex items-center justify-end",children:e.jsxs(h,{onClick:()=>s("CreatePlanModal"),variant:"primary",className:"flex items-center gap-1 justify-center",children:[e.jsx(C,{className:"h-4 w-4",strokeWidth:2})," Add Plan"]})}),e.jsx("div",{className:"py-4 md:px-6 px-4 rounded-[14px] main-box bg-white flex flex-col gap-3",children:e.jsx(k,{columns:u,data:d,endpoint:route("plans.index"),tableKey:"plans",searchable:!0,paginated:!0,perPageOptions:[10,25,50,100]})})]})]})}export{w as default};
